{"version":3,"sources":["icons sync /.svg$","icons/back.svg","icons/check.svg","icons/label.svg","icons/left.svg","icons/money.svg","icons/right.svg","icons/takeBack.svg","components/Icon.tsx","components/Nav.tsx","components/Layout.tsx","lib/createId.tsx","hooks/useUpdate.tsx","hooks/useTags.tsx","components/Button.tsx","components/Center.tsx","views/Tags.tsx","views/money/TagSection.tsx","components/Input.tsx","views/money/NoteSection.tsx","views/money/CategorySection.tsx","views/money/NumberPadSection.tsx","hooks/useRecords.tsx","views/Money.tsx","views/Statistics.tsx","views/NoMatch.tsx","views/Tag.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","symbol","add","requireContext","require","forEach","error","console","log","Icon","props","name","children","className","rest","classnames","xlinkHref","NavWrapper","styled","nav","Nav","to","activeClassName","Wrapper","div","Main","Layout","parseInt","window","localStorage","getItem","createId","setItem","JSON","stringify","useUpdate","fn","dep","count","useRef","useEffect","current","useTags","useState","tags","setTags","localTags","parse","length","result","history","useHistory","getName","tag","filter","t","findTag","updateTag","obj","findTagIndex","i","deleteTag","alert","goBack","addTag","tagName","prompt","Button","button","Center","Space","TagList","ol","Tags","key","onClick","TagsSection","selectedTagIds","value","tagId","indexOf","onChange","section","Input","label","Label","NoteSection","note","type","target","placeholder","CategorySection","categoryMap","categoryList","category","c","NumberPadSection","toString","output","_setOutput","setOutput","newOutput","slice","parseFloat","text","textContent","onOk","useRecords","records","setRecords","addRecord","newRecord","amount","tagIds","record","createdAt","Date","toISOString","MyLayout","defaultFormData","Money","selected","setSelected","Item","Header","h3","SingleDay","Statistics","setCategory","hash","r","dayjs","format","push","array","entries","sort","a","b","date","reduce","span","index","concat","NoMatch","Tag","useParams","TopBar","InputWrapper","header","AppWrapper","App","exact","path","from","Boolean","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","message"],"mappings":"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","file":"static/js/main.c8d72569.chunk.js","sourcesContent":["var map = {\n\t\"./back.svg\": 39,\n\t\"./check.svg\": 40,\n\t\"./label.svg\": 41,\n\t\"./left.svg\": 42,\n\t\"./money.svg\": 43,\n\t\"./right.svg\": 44,\n\t\"./takeBack.svg\": 45\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 38;","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"back\",\n  \"use\": \"back-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"back\\\"><defs><style></style></defs><path d=\\\"M670.925 934.605L253.338 517.018l422.4-422.503 41.164 41.267-381.235 381.236L712.09 893.44l-41.165 41.165z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"check\",\n  \"use\": \"check-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"check\\\"><defs><style></style></defs><path d=\\\"M375.47 1.546h294.502v88.351H375.47z\\\" /><path d=\\\"M816.061 80.077h-67.568v38.287c0 16.686-13.942 30.428-31.12 30.428h-388.27c-18.232 0-31.104-13.742-31.104-30.428V80.077h-67.568c-62.213 0-114.77 44.175-114.77 101.11v736.23c0 57.923 52.557 105.047 114.77 105.047h584.555c63.268 0 114.77-47.114 114.77-105.047v-736.23c1.07-56.935-51.497-101.11-113.695-101.11zM710.241 828.16h-375.04c-24.74 0-44.8-15.191-44.8-33.92s20.06-33.92 44.8-33.92h375.04c24.74 0 44.8 15.191 44.8 33.92s-20.06 33.92-44.8 33.92zm0-226.56h-375.04c-24.74 0-44.8-15.191-44.8-33.92s20.06-33.92 44.8-33.92h375.04c24.74 0 44.8 15.191 44.8 33.92s-20.06 33.92-44.8 33.92zm0-216.32h-375.04c-24.745 0-44.8-15.186-44.8-33.92s20.055-33.92 44.8-33.92h375.04c24.74 0 44.8 15.186 44.8 33.92s-20.06 33.92-44.8 33.92z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"label\",\n  \"use\": \"label-usage\",\n  \"viewBox\": \"0 0 1280 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1280 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"label\\\"><defs><style></style></defs><path d=\\\"M1021.056 603.776c0-23.296-8.32-43.712-24.96-61.248L514.816 61.76c-17.152-16.96-40-31.488-68.736-43.392C417.28 6.4 391.04.512 367.296.512H87.168c-23.296 0-43.52 8.512-60.544 25.6C9.536 43.136 1.024 63.36 1.024 86.72v280c0 23.808 5.888 50.048 17.792 78.784 11.904 28.736 26.432 51.392 43.456 68.032L543.68 995.584c16.64 16.64 36.8 24.96 60.608 24.96 23.36 0 43.776-8.32 61.248-24.96L996.16 664.32c16.64-16.64 24.96-36.8 24.96-60.608zm-743.68-326.848c-16.832 16.832-37.12 25.216-60.928 25.216-23.744 0-44.096-8.384-60.928-25.216A83.008 83.008 0 01130.304 216c0-23.808 8.384-44.16 25.216-60.928 16.832-16.832 37.12-25.28 60.928-25.28s44.16 8.448 60.928 25.28c16.832 16.832 25.28 37.12 25.28 60.928 0 23.744-8.448 44.096-25.28 60.928z\\\" /><path d=\\\"M1254.72 542.528L773.312 61.824c-17.088-17.088-40-31.552-68.736-43.456C675.904 6.464 649.6.512 625.856.512H475.008c23.808 0 50.048 5.952 78.72 17.856 28.8 11.904 51.648 26.368 68.736 43.456l481.408 480.704c16.64 17.536 24.96 37.952 24.96 61.248 0 23.808-8.32 44.032-24.96 60.608l-316.48 316.48c13.504 13.888 25.408 24 35.712 30.272 10.304 6.272 23.552 9.472 39.68 9.472 23.424 0 43.84-8.32 61.312-24.96l330.624-331.264c16.64-16.64 24.96-36.8 24.96-60.608 0-23.296-8.32-43.712-24.96-61.248z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"left\",\n  \"use\": \"left-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"left\\\"><defs><style></style></defs><path d=\\\"M-.512 525.312c0 1.536 0 3.072.512 5.12 1.024 6.144 4.608 11.776 9.216 15.36L267.264 803.84c10.24 10.24 26.112 10.24 36.352 0s10.24-26.112 0-36.352L87.04 550.912h912.384c13.312 0 24.576-11.264 24.576-25.6s-10.752-25.6-24.576-25.6H87.04l216.576-216.576c10.24-10.24 10.24-26.112 0-36.352-5.12-5.12-11.776-7.68-17.92-7.68s-13.312 2.56-17.92 7.68L9.728 504.832c-4.608 3.584-8.192 9.216-9.216 15.36-1.024 2.048-1.024 3.584-1.024 5.12z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"money\",\n  \"use\": \"money-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"money\\\"><defs><style></style></defs><path d=\\\"M350.917 213.981s74.537 50.965 105.134 81.626c0 0 36.342-19.993 112.858-1.851 0 0 121.736-39.988 103.407-122.569 0 0-8.94 19.477-37.555 26.378 0 0-5.433-50.523-29.834-72.3 0 0-31.039-20.696-82.643 25.928 0 0-18.397-30.529-64.256-30.529 0 0-36.727 28.677-33.278 73.386-.06 0-43.235-16.859-73.833 19.931zm0 0M469.719 542.528c0 4.664 2.169 9.582 6.511 14.82 4.41 5.237 12.455 9.195 24.208 11.816v-49.822c-8.43.387-15.709 2.623-21.713 6.579-6.004 4.026-9.006 9.581-9.006 16.607zm0 0M532.249 641.786v59.396c9.194-1.788 16.862-4.659 23.056-8.746 6.261-3.963 9.324-10.479 9.324-19.547 0-6.963-2.553-12.84-7.474-17.435-4.98-4.599-13.282-9.072-24.906-13.668zm0 0\\\" /><path d=\\\"M792.328 647.404C735.739 411.53 663.883 310.295 513.47 310.295c-162.553 0-220.419 137.772-278.797 327.851-51.862 168.81 114.456 265.19 278.797 265.19 164.466.062 319.864-84.312 278.858-255.932zm-175.385 55.188c-6.326 11.621-16.48 21.648-30.597 30.144-14.114 8.563-32.066 13.927-54.097 15.843v35.001h-31.812v-35.001c-13.41-1.537-28.165-5.049-44.134-10.282-15.967-5.24-30.654-11.882-43.943-19.995v-56.906c8.562 6.579 17.631 12.519 27.21 18.073a177.4 177.4 0 0029.574 13.796c10.156 3.767 20.627 6.262 31.294 7.538v-66.874c-25.484-6.132-44.898-13.924-58.377-22.866-13.411-8.941-22.415-18.331-26.888-28.291-4.468-9.839-6.769-20.185-6.769-30.788 0-9.705 2.49-20.12 7.47-31.104 4.984-10.989 14.307-21.144 28.039-30.339 13.733-9.201 32.576-15.203 56.525-17.947v-17.693h31.812v17.631c14.946 1.851 28.805 5.169 41.515 9.896 12.776 4.727 26.633 11.564 41.579 20.506v59.396c-9.516-7.597-21.651-15.325-36.342-23.122a182.245 182.245 0 00-46.752-17.05v54.802c28.805 9.32 51.732 20.82 68.724 34.362 17.051 13.602 25.422 32.444 25.422 56.268-.001 11.816-3.198 23.568-9.453 35.002zm0 0\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"right\",\n  \"use\": \"right-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"right\\\"><defs><style></style></defs><path d=\\\"M289.3 1014.2l506.3-506.3L289.3 1.6l-60.8 60.8L674.1 508 228.6 953.5l60.7 60.7zm0 0\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"takeBack\",\n  \"use\": \"takeBack-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"takeBack\\\"><defs><style></style></defs><path d=\\\"M906.8 226.5c8.4 0 15.2 6.8 15.2 15.2v539.8c0 8.4-6.8 15.2-15.2 15.2H401.4c-3.9 0-7.5-1.5-10.4-4.1L108.8 528.5c-3.9-3.6-4.8-7.9-4.8-10.8 0-2.9.7-7.2 4.4-11L384.1 231c2.9-2.9 6.7-4.4 10.7-4.4h512m0-60.1h-512c-19.9 0-39.1 7.9-53.2 22L66 464.2c-30 30-29.2 79 1.8 108L350 836.4c13.9 13 32.3 20.3 51.4 20.3h505.5c41.5 0 75.2-33.7 75.2-75.2V241.7c-.1-41.5-33.8-75.2-75.3-75.2z\\\" /><path d=\\\"M763.8 681.3c-7.7 0-15.4-2.9-21.2-8.8L464.9 394.9c-11.7-11.7-11.7-30.7 0-42.4s30.7-11.7 42.4 0L785 630c11.7 11.7 11.7 30.7 0 42.4-5.9 5.9-13.5 8.9-21.2 8.9z\\\" /><path d=\\\"M486.2 679.5c-7.7 0-15.4-2.9-21.2-8.8-11.7-11.7-11.7-30.7 0-42.4l277.6-277.6c11.7-11.7 30.7-11.7 42.4 0s11.7 30.7 0 42.4L507.4 670.8c-5.9 5.8-13.6 8.7-21.2 8.7z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import React from \"react\";\nimport classnames from 'classnames';\n//import a hole folder\nconst importAll = (requireContext: __WebpackModuleApi.RequireContext) =>\n    requireContext.keys().forEach(requireContext);\ntry {\n    importAll(require.context(\"icons\", true, /\\.svg$/));\n} catch (error) {\n    console.log(error);\n}\ntype Props = {\n    name?: string\n} & React.SVGAttributes<SVGElement>\n\nconst Icon = (props: Props) => {\n    const {name, children, className, ...rest} = props\n    return (\n        <svg className={classnames('icon', className)} {...rest}>\n            {props.name && <use xlinkHref={'#' + props.name}/>}\n        </svg>\n    );\n};\nexport default Icon;","import styled from \"styled-components\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport React from \"react\";\r\nimport Icon from \"./Icon\";\r\n\r\n\r\n\r\nconst Nav = () => {\r\n    return (\r\n        <NavWrapper>\r\n            <ul>\r\n                <li>\r\n                    <NavLink to=\"/tags\" activeClassName=\"selected\">\r\n                        <Icon name=\"label\"/>\r\n                        标签\r\n                    </NavLink>\r\n                </li>\r\n                <li>\r\n                    <NavLink to=\"/money\" activeClassName=\"selected\">\r\n                        <Icon name=\"money\"/>\r\n                        记账\r\n                    </NavLink>\r\n                </li>\r\n                <li>\r\n                    <NavLink to=\"/statistics\" activeClassName=\"selected\">\r\n                        <Icon name=\"check\"/>\r\n                        明细\r\n                    </NavLink>\r\n                </li>\r\n            </ul>\r\n        </NavWrapper>\r\n    );\r\n};\r\n\r\nconst NavWrapper = styled.nav`\r\n  line-height: 24px;\r\n    >ul{\r\n        display: flex;\r\n   \r\n      >li{\r\n        width:33.3333%;\r\n        text-align: center;\r\n        padding:20px 30px;\r\n        >a{\r\n        color:#7595b0;\r\n        fill: #7595b0;\r\n        border-radius:10px;\r\n        background: #e5f1fa;\r\n        box-shadow:  2px 2px 4px #c3cdd5, \r\n             -2px -2px 4px #ffffff;\r\n        padding:4px 0;\r\n        display: flex;\r\n        flex-direction: column;\r\n        justify-content: center;\r\n        align-items: center;\r\n          .icon{\r\n            width:24px;\r\n            height:24px;\r\n          }\r\n          &.selected{\r\n          border-radius: 10px;\r\n          background: #e5f1fa;\r\n          box-shadow: inset 2px 2px 4px #c3cdd5, \r\n                      inset -2px -2px 4px #ffffff;\r\n          color:#7595b0;\r\n           .icon{\r\n           fill:#7595b0;\r\n           }\r\n          }\r\n        }\r\n      }\r\n  }\r\n`;\r\nexport default Nav;","import Nav from \"./Nav\";\r\nimport React from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nconst Wrapper = styled.div`\r\n  height: 100vh;\r\n  display: flex;\r\n  flex-direction: column;\r\n\r\n`;\r\nconst Main = styled.div`\r\n flex-grow: 1;\r\n overflow: auto;\r\n &::after{\r\n position: absolute;\r\n z-index: 12;\r\n      height:100%;\r\n      width:100%;\r\n      background: red;\r\n      clip-path: ellipse(130px 140px at 10% 20%);\r\n }\r\n`;\r\n\r\n\r\nconst Layout = (props: any) => {\r\n    return (\r\n        <Wrapper>\r\n            <Main className={props.className}>\r\n                {props.children}\r\n            </Main>\r\n            <Nav/>\r\n        </Wrapper>\r\n    );\r\n};\r\n\r\nexport default Layout;\r\n","let id = parseInt(window.localStorage.getItem('idMax')||'0')\r\nconst createId = () => {\r\n    id += 1;\r\n    window.localStorage.setItem('idMax',JSON.stringify(id))\r\n    return id;\r\n};\r\nexport {createId};","import {useEffect, useRef} from \"react\";\n\n\nconst useUpdate = (fn: () => void, dep: any[]) => {\n    const count = useRef(0);\n    useEffect(() => {\n        count.current += 1;\n    });\n    useEffect(() => {\n        if (count.current > 1) {\n            fn();\n        }\n    }, [fn, dep]);\n};\n\nexport {useUpdate};","import {useEffect, useState} from \"react\";\nimport {createId} from \"lib/createId\";\nimport {useUpdate} from \"./useUpdate\";\nimport {useHistory} from \"react-router-dom\";\n\n\nconst useTags = () => {\n    const [tags, setTags] = useState<{ id: number; name: string }[]>\n    ([]);\n    useEffect(() => {\n        let localTags = JSON.parse(window.localStorage.getItem(\"tags\") || \"[]\");\n        if (localTags.length === 0) {\n            localTags = [\n                {id: createId(), name: \"饮食\"},\n                {id: createId(), name: \"购物\"},\n                {id: createId(), name: \"交通出行\"},\n            ];\n        }\n        setTags(localTags);\n    }, []);\n    useUpdate(() => {\n        window.localStorage.setItem(\"tags\", JSON.stringify(tags));\n    }, tags);\n    const findTag = (id: number) => tags.filter(tag => tag.id === id)[0];\n    let result = -1;\n    const findTagIndex = (id: number) => {\n        for (let i = 0; i < tags.length; i++) {\n            if (tags[i].id === id) {\n                result = i;\n                break;\n            }\n        }\n        return result;\n    };\n\n    const updateTag = (id: number, obj: { name: string }) => {\n        setTags(tags.map(tag => {\n            return tag.id === id ? {id, name: obj.name} : tag;\n        }));\n\n    };\n    const history = useHistory();\n    const deleteTag = (id: number) => {\n        setTags(tags.filter(tag => tag.id !== id));\n        alert(\"删除成功\");\n        history.goBack();\n    };\n    const addTag = () => {\n        const tagName = window.prompt(\"输入新标签\");\n        if (tagName !== null && tagName !== \"\") {\n            setTags([...tags, {id: createId(), name: tagName}]);\n        }\n    };\n    const getName = (id: number) => {\n        const tag = tags.filter(t => t.id === id)[0];\n        return tag ? tag.name : \"\";\n    };\n    return {\n        tags,\n        getName,\n        setTags,\n        findTag,\n        updateTag,\n        findTagIndex,\n        deleteTag,\n        addTag\n    };\n\n};\nexport {useTags};","import styled from \"styled-components\";\r\n\r\nconst Button = styled.button`\r\n  font-size:18px;\r\n  border:none;\r\n  padding:8px 12px;\r\n  background:#5ab3f7;\r\n  color:white;\r\n  border-radius: 10px;\r\n  box-shadow:  2px 2px 4px #c3cdd5, \r\n               -2px -2px 4px #ffffff;\r\n               \r\n   &.danger{\r\n      background:#ec407a;\r\n   }\r\n`;\r\n\r\n\r\nexport {Button};","import styled from 'styled-components';\r\n\r\nconst Center = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  flex-direction: column;\r\n`;\r\n\r\nexport {Center};","import Layout from \"components/Layout\";\nimport React from \"react\";\nimport {useTags} from \"hooks/useTags\";\nimport styled from \"styled-components\";\nimport {Link} from \"react-router-dom\";\nimport {Button} from \"components/Button\";\nimport {Center} from \"components/Center\";\nimport Icon from \"../components/Icon\";\n\nfunction Tags() {\n    const {tags, addTag} = useTags();\n    return (\n        <Layout>\n            <TagList>\n                {tags.map(tag =>\n                    <li key={tag.id}>\n                        <Link to={\"/tags/\" + tag.id}>\n                            <span>{tag.name}</span>\n                            <Icon name=\"right\"/>\n                        </Link>\n                    </li>\n                )}\n            </TagList>\n            <Center>\n                <Space/>\n                <Button onClick={addTag}>新增标签</Button>\n            </Center>\n        </Layout>\n    );\n}\n\n\nconst Space = styled.div`\n  height:16px;\n\n`;\nconst TagList = styled.ol`\n  font-size:16px;\n  >li{\n    padding:0 0 0 12px;\n    line-height: 16px;\n    margin:20px;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n    border-radius: 50px;\n    background: #e5f1fa;\n     box-shadow:  2px 2px 4px #c3cdd5, \n             -2px -2px 4px #ffffff;\n    >a{\n       color:#7595b0;\n       fill:#7595b0;\n       flex-grow: 1;\n       display: flex;\n       justify-content: space-between;\n       align-items: center;\n       padding:12px 16px 12px 0;\n    }\n  }\n\n`;\nexport default Tags;","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport {useTags} from \"hooks/useTags\";\r\n\r\ntype Props = {\r\n    value: number[];\r\n    onChange: (selected: number[]) => void;\r\n}\r\nconst TagsSection: React.FunctionComponent<Props> = (props) => {\r\n    const selectedTagIds = props.value;\r\n    const {tags, addTag} = useTags();\r\n\r\n    const onToggleTag = (tagId: number) => {\r\n        const index = selectedTagIds.indexOf(tagId);\r\n        if (index >= 0) {\r\n            props.onChange(selectedTagIds.filter(t => t !== tagId));\r\n        } else {\r\n            props.onChange([...selectedTagIds, tagId]);\r\n        }\r\n    };\r\n    const selectedClass = (tagId: number) => {\r\n        return selectedTagIds.indexOf(tagId) >= 0 ? \"selected\" : \"\";\r\n    };\r\n    return (\r\n        <Wrapper>\r\n            <ol>\r\n                {tags.map(tag => {\r\n                    return (\r\n                        <li key={tag.id} onClick={() => {\r\n                            onToggleTag(tag.id);\r\n                        }}\r\n                            className={selectedClass(tag.id)}\r\n                        >{tag.name}</li>\r\n                    );\r\n                })\r\n                }\r\n            </ol>\r\n            <button onClick={addTag}>新增标签</button>\r\n        </Wrapper>\r\n    );\r\n};\r\n\r\n\r\nconst Wrapper = styled.section`\r\n  padding:16px 16px;\r\n  flex-grow: 1;\r\n \r\n  >ol{\r\n    margin:0 -12px;\r\n     display:flex;\r\n    flex-wrap: nowrap;\r\n    overflow: auto;\r\n    font-size: 16px;\r\n    \r\n    >li{\r\n      display: flex;\r\n      flex-direction: row;\r\n      align-items: center;\r\n      justify-content: center;\r\n      flex-wrap: nowrap;\r\n      white-space: nowrap;\r\n      overflow: hidden;\r\n      height: 32px;\r\n      line-height: 32px;\r\n      margin: 0 0 10px 12px;\r\n      border-radius: 32px/4;\r\n      min-width: 80px;\r\n      border-radius: 50px;\r\n      background: #e5f1fa;\r\n      box-shadow:  2px 2px 4px #c3cdd5, \r\n                  -2px -2px 4px #ffffff;\r\n\r\n          &.selected{\r\n             background:#f4ab81;\r\n             color:white;\r\n          }   \r\n  }\r\n  }\r\n  >button{\r\n  display: inline;\r\n    background: none;\r\n    border:none;\r\n    padding:2px 4px;\r\n    border-bottom:1px solid #333;\r\n    color:#666;\r\n    margin-top:8px;  \r\n    text-align: left;  \r\n  }\r\n`;\r\n\r\n\r\nexport {TagsSection};","import React from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\ntype Props = {\r\n    label: string;\r\n} & React.InputHTMLAttributes<HTMLInputElement>;\r\nconst Input: React.FunctionComponent<Props> = (props) => {\r\n    const {label,children, ...rest} = props;\r\n    return (<Label>\r\n        <span>{props.label}：</span>\r\n        <input {...rest}/>\r\n    </Label>);\r\n};\r\n\r\nconst Label = styled.label`\r\n    display:flex;\r\n    align-items: center;\r\n    > span { margin-right: 16px; white-space: nowrap; }\r\n    > input {\r\n      display:block;\r\n      width: 100%;\r\n      height: 44px;\r\n      background: none;\r\n      border: none;\r\n    }\r\n`;\r\n\r\nexport {Input};\r\n\r\n\r\n\r\n","import styled from \"styled-components\";\nimport React, {ChangeEventHandler} from \"react\";\nimport {Input} from \"components/Input\";\n\ntype Props={\n    value:string;\n    onChange: (value:string)=>void;\n}\nconst NoteSection: React.FunctionComponent<Props> = (props) => {\n    const note=props.value\n    const onChange: ChangeEventHandler<HTMLInputElement>=(e)=>{\n            props.onChange(e.target.value)\n    }\n    return (\n        <Wrapper>\n               <Input label=\"备注\" type=\"text\"\n               value={note} onChange={onChange}\n                      placeholder=\"请填写备注\"\n               />\n        </Wrapper>\n    );\n};\n\nconst Wrapper = styled.section`\n  padding: 14px 16px;\n  font-size: 14px;\n  flex-grow: 1;\n`;\n\nexport {NoteSection};","import styled from \"styled-components\";\r\nimport React, {useState} from \"react\";\r\n\r\n\r\ntype Props = {\r\n    value: \"-\" | \"+\";\r\n    onChange: (value: \"-\" | \"+\") => void;\r\n}\r\nconst CategorySection: React.FunctionComponent<Props> = (props) => {\r\n    const categoryMap = {\"-\": \"支出\", \"+\": \"收入\"};\r\n    type keys = keyof typeof categoryMap\r\n    const [categoryList] = useState<keys[]>([\"-\", \"+\"]);\r\n    const category = props.value;\r\n    return (\r\n        <Wrapper>\r\n            <ul>\r\n                {categoryList.map(c => {\r\n                        return (\r\n                            <li key={c}\r\n                                className={category === c ? \"selected\" : \"\"}\r\n                                onClick={() => {\r\n                                    props.onChange(c);\r\n                                }}\r\n                            >{categoryMap[c]}\r\n                            </li>\r\n                        );\r\n                    }\r\n                )}\r\n            </ul>\r\n        </Wrapper>\r\n    );\r\n\r\n};\r\n\r\n\r\nconst Wrapper = styled.section`\r\n  font-size: 20px;\r\n  border-radius: 16px;    \r\n  background: #e5f1fa;\r\n  box-shadow: inset 2px 2px 4px #c3cdd5, \r\n              inset -2px -2px 4px #ffffff;\r\n  padding:8px 10px;\r\n  margin:8px 8px 0 8px;\r\n\r\n  > ul{\r\n    display:flex;\r\n    > li {\r\n      width: 50%; \r\n      text-align:center;\r\n      padding: 12px 0;\r\n      position:relative;\r\n      &.selected{\r\n        border-radius: 16px;\r\n        background: #5fcae1;\r\n        box-shadow:  2px 2px 4px #c3cdd5, \r\n               -2px -2px 4px #ffffff;\r\n        color:white;\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\n\r\nexport {CategorySection};","import styled from \"styled-components\";\nimport React, {useState} from \"react\";\n\ntype Props = {\n    value: number;\n    onChange: (value: number) => void;\n    onOk?: () => void;\n}\nconst NumberPadSection: React.FunctionComponent<Props> = (props) => {\n    // const output = props.value.toString();\n    const [output, _setOutput] = useState(props.value.toString());\n    const setOutput = (output: string) => {\n        let newOutput: string;\n        if (output.length > 16) {\n            newOutput = output.slice(0, 16);\n        } else if (output.length === 0) {\n            newOutput = \"0\";\n        } else {\n            newOutput = output;\n        }\n        _setOutput(newOutput);\n        props.onChange(parseFloat(newOutput));\n    };\n    const onClickButtonWrapper = (e: React.MouseEvent) => {\n        const text = (e.target as HTMLButtonElement).textContent;\n        if (text === null) {\n            return;\n        }\n        switch (text) {\n            case \"0\":\n            case \"1\":\n            case \"2\":\n            case \"3\":\n            case \"4\":\n            case \"5\":\n            case \"6\":\n            case \"7\":\n            case \"8\":\n            case \"9\":\n                if (output === \"0\") {\n                    setOutput(text);\n                } else {\n                    setOutput(output + text);\n                }\n                break;\n            case \".\":\n                if (output.indexOf(\".\") >= 0) {\n                    return;\n                }\n                setOutput(output + \".\");\n                break;\n            case \"C\":\n                setOutput(\"\");\n                break;\n            case \"删除\":\n                if (output.length === 1) {\n                    setOutput(\"\");\n                } else {\n                    setOutput(output.slice(0, -1));\n                }\n                break;\n            case \"OK\":\n                if (props.onOk) {\n                    props.onOk();\n                }\n                break;\n            default:\n                return \"\";\n        }\n    };\n    return (\n        <Wrapper>\n            <div className=\"output\">\n                {output}\n            </div>\n            <div className=\"pad clearfix\" onClick={onClickButtonWrapper}>\n                <button>1</button>\n                <button>2</button>\n                <button>3</button>\n                <button>删除</button>\n                <button>4</button>\n                <button>5</button>\n                <button>6</button>\n                <button>C</button>\n                <button>7</button>\n                <button>8</button>\n                <button>9</button>\n                <button className=\"ok\">OK</button>\n                <button className=\"zero\">0</button>\n                <button className=\"dot\">.</button>\n            </div>\n        </Wrapper>\n    );\n};\n\n\nconst Wrapper = styled.section`\n  display:flex;\n  flex-direction: column;\n  justify-content: flex-end;\n  flex-grow: 1;\n  > .output{\n  flex-shrink: 0;\n    font-size: 36px;\n    line-height: 72px;\n    text-align:right;\n    padding: 0 16px;\n    background: #e5f1fa;\n    box-shadow: inset 2px 2px 4px #c3cdd5, \n                inset -2px -2px 4px #ffffff;\n  \n  }\n  > .pad{ \n     flex-grow:3;\n    > button{\n      border-radius: 10px;\n           background: #e5f1fa;\n           box-shadow:  2px 2px 4px #c3cdd5, \n                 -2px -2px 4px #ffffff;\n      margin:10px;\n      padding:10px 0;\n      font-size: 18px; float: left; width: calc(25% - 20px); border: none;\n      &.ok{  \n            float: right; \n            padding:40px 0;\n            background:#f4ab81;\n            color:white;\n      }\n      &.zero{ width: calc(50% - 20px); }\n      &:nth-child(4){\n        background:#ec407a;\n        color:white;\n      }\n      &:nth-child(8){\n      background:#5fcae1;\n      color:white;\n      }\n    \n    }\n  }\n`;\n\nexport {NumberPadSection};","import {useEffect, useState} from \"react\";\nimport {useUpdate} from \"./useUpdate\";\n\nexport type RecordItem = {\n    tagIds: number[];\n    note: string;\n    category: \"+\" | \"-\";\n    amount: number;\n    createdAt: string;\n}\n\ntype newRecordItem = Omit<RecordItem,'createdAt'>\n\n\nconst useRecords = () => {\n    const [records, setRecords] = useState<RecordItem[]>([]);\n    useEffect(() => {\n        setRecords(JSON.parse(window.localStorage.getItem(\"records\") || \"[]\"));\n    }, []);\n    useUpdate(() => {\n        window.localStorage.setItem(\"records\", JSON.stringify(records));\n    }, records);\n\n    const addRecord = (newRecord: newRecordItem) => {\n        if(newRecord.amount<=0){\n            alert('请输入金额')\n            return false;}\n       if(newRecord.tagIds.length===0){\n           alert('请至少选择一个标签')\n           return false\n       }\n        const record={...newRecord,createdAt: (new Date().toISOString())}\n        setRecords([...records, record]);\n        return true\n    };\n\n    return {records, addRecord};\n};\n\nexport {useRecords};","import Layout from \"components/Layout\";\nimport styled from \"styled-components\";\nimport {TagsSection} from \"./money/TagSection\";\nimport {NoteSection} from \"./money/NoteSection\";\nimport {CategorySection} from \"./money/CategorySection\";\nimport {NumberPadSection} from \"./money/NumberPadSection\";\nimport React, {useState} from \"react\";\nimport {useRecords} from \"hooks/useRecords\";\n\n\nconst MyLayout = styled(Layout)`\n  display:flex;\n  flex-direction: column;\n`;\ntype Category = \"-\" | \"+\"\nconst defaultFormData = {\n    tagIds: [] as number[],\n    note: \"\",\n    category: \"-\" as Category,\n    amount: 0,\n};\n\nfunction Money() {\n    const [selected, setSelected] = useState(defaultFormData);\n    const onChange = (obj: Partial<typeof selected>) => {\n        setSelected({\n            ...selected,\n            ...obj\n        });\n    };\n    const {addRecord} = useRecords();\n    const submit = () => {\n        if (addRecord(selected)) {\n            alert(\"保存成功\");\n            setSelected(defaultFormData);\n        }\n    };\n\n    return (\n        <MyLayout>\n            <CategorySection value={selected.category}\n                             onChange={(category) => onChange({category})}\n            />\n            <TagsSection value={selected.tagIds}\n                         onChange={tagIds => onChange({tagIds})}/>\n            <NoteSection value={selected.note}\n                         onChange={note => onChange({note})}\n            />\n            <NumberPadSection value={selected.amount}\n                              onChange={(amount) => onChange({amount})}\n                              onOk={submit}\n            />\n        </MyLayout>\n    );\n}\n\nexport default Money;","import styled from \"styled-components\";\nimport {ReactNode, useState} from \"react\";\nimport {useTags} from \"hooks/useTags\";\nimport {RecordItem, useRecords} from \"hooks/useRecords\";\nimport Layout from \"components/Layout\";\nimport React from \"react\";\nimport {CategorySection} from \"./money/CategorySection\";\nimport dayjs from \"dayjs\";\n\nfunction Statistics() {\n    const [category, setCategory] = useState<\"-\" | \"+\">(\"-\");\n    const {records} = useRecords();\n    const {getName} = useTags();\n    const hash: { [K: string]: RecordItem[] } = {}; // {'2020-05-11': [item, item], '2020-05-10': [item, item], '2020-05-12': [item, item, item, item]}\n    const selectedRecords = records.filter(r => r.category === category);\n\n    selectedRecords.forEach(r => {\n        const key = dayjs(r.createdAt).format(\"YYYY年MM月DD日\");\n        if (!(key in hash)) {\n            hash[key] = [];\n        }\n        hash[key].push(r);\n    });\n\n    const array = Object.entries(hash).sort((a, b) => {\n        if (a[0] === b[0]) return 0;\n        if (a[0] > b[0]) return -1;\n        if (a[0] < b[0]) return 1;\n        return 0;\n    });\n\n    return (\n        <Layout>\n            <CategorySection value={category}\n                             onChange={value => setCategory(value)}/>\n            {array.map(([date, records]) => <div key={date}>\n                <Header>\n                    {date}\n                </Header>\n                <SingleDay>\n                    {records.map(r => {\n                        return <Item key={r.createdAt}>\n                            <div className=\"tags oneLine\">\n                                {r.tagIds\n                                    .map(tagId => <span key={tagId}>{getName(tagId)}</span>)\n                                    .reduce((result, span, index, array) =>\n                                        result.concat(index < array.length - 1 ? [span, \"，\"] : [span]), [] as ReactNode[])\n                                }\n                            </div>\n                            {r.note && <div className=\"note\">\n                                {r.note}\n                            </div>}\n                            <div className=\"amount\">\n                                ￥{r.amount}\n                            </div>\n                        </Item>;\n                    })}\n                </SingleDay>\n            </div>)}\n        </Layout>\n    );\n}\n\n\nconst Item = styled.div`\n  display:flex;\n  justify-content: space-between;\n  font-size: 18px;\n  line-height: 20px;\n  padding: 10px 0;\n  margin:0 16px;\n  border-bottom:1px solid lightgrey;\n  > .note{\n    margin-right: auto;\n    margin-left: 16px;\n    color: #999;\n  }\n`;\nconst Header = styled.h3`\n  font-size: 18px;\n  line-height: 20px;\n  padding: 10px 16px;\n`;\nconst SingleDay=styled.div`\n   padding:0 0 8px 0 ;\n   border-radius:4px;\n  background: #e5f1fa;\n  box-shadow: inset -2px 2px 4px #d5e0e9, \n              inset 2px -2px 4px #f5ffff;\n`\n\nexport default Statistics;","import React from \"react\";\r\n\r\nfunction NoMatch() {\r\n    return (\r\n        <div>页面不存在</div>\r\n    );\r\n}\r\n\r\nexport default NoMatch;","import React from \"react\";\nimport {useTags} from \"hooks/useTags\";\nimport {useParams,useHistory} from \"react-router-dom\";\nimport Layout from \"components/Layout\";\nimport Icon from \"components/Icon\";\nimport {Button} from \"components/Button\";\nimport styled from \"styled-components\";\nimport {Input} from \"components/Input\";\nimport {Center} from \"components/Center\";\n\ntype Params = {\n    id: string\n}\n\nconst Tag: React.FunctionComponent = () => {\n    const {findTag, updateTag, deleteTag} = useTags();\n    let {id} = useParams<Params>();\n    const tag = findTag(parseInt(id));\n    const history=useHistory()\n    const onClickBack=()=>{\n        history.goBack()\n    }\n    return (\n        <Layout>\n            <TopBar>\n                <Icon name=\"left\" onClick={onClickBack}/>\n                <span>编辑标签</span>\n                <Icon/>\n            </TopBar>\n            {tag ? <div>\n                    <InputWrapper>\n                        <Input label=\"标签名\" type=\"text\" placeholder=\"标签名\"\n                               value={tag.name}\n                               onChange={(e) => {\n                                   updateTag(tag.id, {name: e.target.value});\n                               }}\n\n                        />\n                    </InputWrapper>\n                    <Center>\n                        <Button className=\"danger\" onClick={() => {\n                            deleteTag(tag.id);\n                        }}>删除标签</Button>\n                    </Center></div> :\n                <Center>tag不存在</Center>\n            }\n\n        </Layout>\n    );\n};\n\nconst InputWrapper = styled.div`\n  padding:0 16px;\n  margin-top:8px;\n  margin-bottom: 36px;\n   box-shadow: inset 2px 2px 4px #c3cdd5, \n                inset -2px -2px 4px #ffffff;\n   \n`;\nconst TopBar = styled.header`\n  display:flex;\n  justify-content: space-between;\n  align-items: center;\n  line-height: 20px;\n  padding:14px;\n  >.icon{\n    height: 24px;\n    width:24px;\n  }\n  \n`;\nexport {Tag};","import React from \"react\";\nimport {\n    HashRouter as Router,\n    Switch,\n    Route,\n    Redirect\n} from \"react-router-dom\";\nimport Tags from \"./views/Tags\";\nimport Money from \"./views/Money\";\nimport Statistics from \"./views/Statistics\";\nimport NoMatch from \"./views/NoMatch\";\nimport styled from \"styled-components\";\nimport {Tag} from \"./views/Tag\";\n\nconst AppWrapper = styled.div`\n  color:#333;\n  background:#e5f1fa;\n  @media(min-width: 500px) {\n   {\n    max-width: 500px;\n    margin: 0 auto;\n  }\n}\n  \n`;\n\nfunction App() {\n    return (\n        <AppWrapper>\n            <Router>\n                <Switch>\n                    <Route exact path=\"/tags\">\n                        <Tags/>\n                    </Route>\n                    <Route exact path=\"/tags/:id\">\n                        <Tag/>\n                    </Route>\n                    <Route exact path=\"/money\">\n                        <Money/>\n                    </Route>\n                    <Route exact path=\"/statistics\">\n                        <Statistics/>\n                    </Route>\n                    <Redirect exact from=\"/\" to=\"money\" />\n                    <Route path=\"*\">\n                        <NoMatch/>\n                    </Route>\n                </Switch>\n            </Router>\n        </AppWrapper>\n    );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport 'index.scss';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\nserviceWorker.unregister();\n"],"sourceRoot":""}